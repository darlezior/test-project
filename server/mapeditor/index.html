<!-- ===============================
??️ Map Editor — Interfaccia Web
=============================== -->
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Map Editor</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Map Editor</h1>

  <!-- ??️ Form creazione / salvataggio mappa -->
  <form id="mapForm">
    <input type="text" id="mapName" placeholder="Nome Mappa" required>
    <input type="number" id="mapWidth" placeholder="Larghezza" required>
    <input type="number" id="mapHeight" placeholder="Altezza" required>
    <button type="submit">Crea / Salva</button>
  </form>

  <!-- ?? Selettore mappe esistenti -->
  <select id="mapSelector"></select>
  <button id="loadMapBtn">Carica Mappa</button>

  <!-- ✅ Selettore Layer -->
  <h3>Layer attivo</h3>
  <label><input type="radio" name="layer" value="objects" checked> Oggetto</label>
  <label><input type="radio" name="layer" value="background"> Sfondo</label>
  <h3>Visualizza Layer</h3>
  <label><input type="checkbox" id="toggleBackground" checked> Sfondo</label>
  <label><input type="checkbox" id="toggleObjects" checked> Oggetti</label>

  <!-- ?? Contenitore griglia mappa -->
  <div id="gridContainer"></div>

  <!-- ?? Gestione Oggetti -->
  <h2>Gestione Oggetti</h2>

  <!-- ✏️ Form creazione/modifica oggetto -->
  <form id="addForm">
  <input type="text" name="name" placeholder="Nome oggetto" required />
  <input type="text" name="symbol" placeholder="Percorso immagine o simbolo" required />

  <label>
    <input type="checkbox" name="interactable" />
    Interagibile
  </label>

  <label>
    Azione al click:
    <input type="text" name="onClickAction" placeholder="es. openDoor, pickUp, talk" />
  </label>

  <label>
    Durabilità:
    <input type="number" name="durability" min="0" />
  </label>

  <label>
    <input type="checkbox" name="usable" />
    Utilizzabile
  </label>

  <label>
    <input type="checkbox" name="container" />
    Contenitore
  </label>

  <label>
    <input type="checkbox" name="solid" />
    Solido (blocca movimento)
  </label>

  <label>
    <input type="checkbox" name="collidable" />
    Collidibile
  </label>

  <label>
    <input type="checkbox" name="triggerZone" />
    Zona trigger
  </label>

  <label>
    Proprietà JSON:
    <textarea name="properties" placeholder='{"flammable": true, "value": 100}' rows="3" style="width:100%;"></textarea>
  </label>

  <button type="submit">Salva Oggetto</button>
</form>

  <!-- ??️ Galleria immagini per oggetti -->
  <h3>Gestione Immagini Oggetto</h3>
  <input type="file" id="imageUploader" accept="image/*">
  <div id="imageList" style="display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;"></div>

  <!-- ?? Lista oggetti disponibili -->
  <ul id="itemsList"></ul>

  <!-- ✅ Anteprima oggetto selezionato -->
  <div id="selectedItemSymbol" style="margin: 10px 0; font-weight: bold;">(nessun oggetto selezionato)</div>

  <!-- ⚙️ Script -->
  <script type="module" src="grid.js"></script>
  <script type="module" src="api.js"></script>
  <script type="module" src="ui.js"></script>
  <script type="module" src="init.js"></script>
</body>
</html>
